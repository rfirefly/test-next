const trackForm={mixins:[window.trackFormMixin],template:`
        <div v-if="translation.order_lookup_section" class="track123_form_wrapper">
            <img v-if="isPhone && showPowerBy" :src="poweredByMobileImg" class="track123_poweredBy" @click="openPoweredByLink" />
            <div v-if="window.showAdditionalText && (additional_text.text_above || additional_text.text_below)" class="track123_additional_text_container">
                <div :class="['text_above', {'text_above_show_all': showTextAboveMore}]">
                    <div class="content">
                        <div id="textAbove" class="title" v-html="additional_text.text_above"></div>
                        <button class="track123_blank_btn" @click="showTextAboveMore=!showTextAboveMore">
                            <svg v-if="showPhoneMore" :class="['more_icon', {'up_more_icon': showTextAboveMore}]" width="10" height="8" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0.599971 3.79997C0.452695 3.6036 0.471705 3.33416 0.632903 3.16034L0.69997 3.09997L4.69997 0.0999708C4.85235 -0.0143147 5.05371 -0.0306416 5.22009 0.0509911L5.29997 0.0999708L9.29997 3.09997C9.52088 3.26566 9.56566 3.57906 9.39997 3.79997C9.25269 3.99634 8.98871 4.05353 8.7767 3.94745L8.69997 3.89997L4.99997 1.12597L1.29997 3.89997C1.07906 4.06566 0.765656 4.02088 0.599971 3.79997ZM0.599971 7.79997C0.452695 7.6036 0.471705 7.33416 0.632903 7.16034L0.69997 7.09997L4.69997 4.09997C4.85235 3.98569 5.05371 3.96936 5.22009 4.05099L5.29997 4.09997L9.29997 7.09997C9.52088 7.26566 9.56566 7.57906 9.39997 7.79997C9.25269 7.99634 8.98871 8.05353 8.7767 7.94745L8.69997 7.89997L4.99997 5.12497L1.29997 7.89997C1.07906 8.06566 0.765656 8.02088 0.599971 7.79997Z" fill="#005BF5"/>
                            </svg>
                        </button>
                    </div>
                    <button class="track123_blank_btn toggle_additional_text" @click="toggleAdditionalText">
                        <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 1L5 5M5 5L9 9M5 5L9 1M5 5L1 9" stroke="#0B1019" stroke-opacity="0.45" stroke-width="1.33333" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="track123_form_container">
                <div class="track123_form_title">{{ translation.order_lookup_section.track_your_order }}</div>
                <div v-if="isOrderNumberAndEmailAndTrackingNumber" class="track123_tab_container">
                    <button :class="['track123_tab_bar', {'track123_tab_active_bar':showTab == 1}]" @click="showTab = 1">{{ translation.order_lookup_section.order_number }}</button>
                    <button :class="['track123_tab_bar', {'track123_tab_active_bar':showTab == 2}]" @click="showTab = 2">{{ translation.order_lookup_section.tracking_number }}</button>
                </div>
                <div class="track123_input_container">
                    <div v-if="showOrderNumber" class="track123_input_content">
                        <input :class="['track123_form_field', {'track123_form_field_error': showOrderError}, {'track123_input_disable_field': showLoading}]" 
                            :placeholder="translation.order_lookup_section.order_number" 
                            v-model="formParams.order_or_number" 
                            :readonly="showLoading ? 'readonly' : false"/>
                        <div :class="['track123_form_error', {'track123_form_error_show': showOrderError}]">
                            {{ translation.order_lookup_section.order_number_error }}
                        </div>
                    </div>
                    <div v-if="showEmailOrPhone" class="track123_input_content">
                        <input :class="['track123_form_field', {'track123_form_field_error': showEmailError}, {'track123_input_disable_field': showLoading}]" 
                            :placeholder="translation.order_lookup_section.email" 
                            v-model="formParams.email" 
                            :readonly="showLoading ? 'readonly' : false"/>
                        <div :class="['track123_form_error', {'track123_form_error_show': showEmailError}]">
                            {{ translation.order_lookup_section.email_error }}
                        </div>
                    </div>
                    <div v-if="showTrackingNumber" class="track123_input_content">
                        <input :class="['track123_form_field', {'track123_form_field_error': showTrackingNoError}, {'track123_input_disable_field': showLoading}]" 
                            :placeholder="translation.order_lookup_section.tracking_number" 
                            v-model="formParams.tracking_no" 
                            :readonly="showLoading ? 'readonly' : false"/>
                        <div :class="['track123_form_error', {'track123_form_error_show': showTrackingNoError}]">
                            {{ translation.order_lookup_section.tracking_number_error }}
                        </div>
                    </div>
                    <div v-if="showTrackingNoOrOrderNumber" class="track123_input_content">
                        <input :class="['track123_form_field', {'track123_form_field_error': showTrackingNoError}, {'track123_input_disable_field': showLoading}]" 
                            :placeholder="translation.order_lookup_section.order_number_or_tracking_number" 
                            v-model="formParams.tracking_no_or_order_number" 
                            :readonly="showLoading ? 'readonly' : false"/>
                        <div :class="['track123_form_error', {'track123_form_error_show': showTrackingNoOrOrderNumberError}]">
                            {{ translation.order_lookup_section.number_error }}
                    </div>
                </div>
                </div>
                <button class="track123_form_button" :style="{ opacity: showLoading ? 0.6 : 1 }" @click="submit(submitType)">
                    <div v-if="showLoading" class="track123_form_loading">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1" stroke="white" stroke-opacity="0.95" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div>{{ translation.order_lookup_section.track }}</div>
                </button>
                <div v-if="showErrorText" class="track123_no_data_tips">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8C14.5 11.5899 11.5899 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z" fill="#DF3148"/>
                        <path d="M8 9.8C7.73 9.8 7.55 9.62 7.46 9.35L7.1 4.49C7.1 3.95 7.46 3.5 8 3.5C8.45 3.5 8.9 3.86 8.9 4.4L8.54 9.35C8.45 9.62 8.27 9.8 8 9.8ZM7.1 11.6C7.1 11.06 7.46 10.7 8 10.7C8.54 10.7 8.9 11.06 8.9 11.6C8.9 12.14 8.54 12.5 8 12.5C7.46 12.5 7.1 12.14 7.1 11.6Z" fill="#DF3148"/>
                    </svg>
                    <div class="tips">{{ translation.shipping_details.no_tracking_info_text }}</div>
                </div>
                <img v-if="!isPhone && showPowerBy" class="track123_poweredBy" :src="poweredByImg" @click="openPoweredByLink" />
            </div>
        </div>
	`,data(){return{showPhoneMore:!1,showTextAboveMore:!1}},computed:{submitType(){let e=1;return!this.isOrderNumberAndEmailAndTrackingNumber&&this.configure_options.lookup_options_by_order_number_and_email&&this.configure_options.require_email_or_phone_number&&!this.configure_options.lookup_options_by_tracking_number||this.isOrderNumberAndEmailAndTrackingNumber&&1==this.showTab?e=1:!this.isOrderNumberAndEmailAndTrackingNumber&&!this.configure_options.lookup_options_by_order_number_and_email&&this.configure_options.lookup_options_by_tracking_number||this.isOrderNumberAndEmailAndTrackingNumber&&2==this.showTab?e=2:!this.configure_options.lookup_options_by_order_number_and_email||this.configure_options.require_email_or_phone_number||this.configure_options.lookup_options_by_tracking_number?this.configure_options.lookup_options_by_order_number_and_email&&!this.configure_options.require_email_or_phone_number&&this.configure_options.lookup_options_by_tracking_number&&(e=4):e=3,e},showOrderNumber(){return!this.isOrderNumberAndEmailAndTrackingNumber&&this.configure_options.lookup_options_by_order_number_and_email&&!this.configure_options.lookup_options_by_tracking_number||this.isOrderNumberAndEmailAndTrackingNumber&&1==this.showTab},showEmailOrPhone(){return!this.isOrderNumberAndEmailAndTrackingNumber&&this.configure_options.lookup_options_by_order_number_and_email&&this.configure_options.require_email_or_phone_number&&!this.configure_options.lookup_options_by_tracking_number||this.isOrderNumberAndEmailAndTrackingNumber&&1==this.showTab},showTrackingNumber(){return!this.isOrderNumberAndEmailAndTrackingNumber&&this.configure_options.lookup_options_by_tracking_number&&!this.configure_options.lookup_options_by_order_number_and_email||this.isOrderNumberAndEmailAndTrackingNumber&&2==this.showTab},showTrackingNoOrOrderNumber(){return!this.isOrderNumberAndEmailAndTrackingNumber&&this.configure_options.lookup_options_by_tracking_number&&this.configure_options.lookup_options_by_order_number_and_email&&!this.configure_options.require_email_or_phone_number},poweredByImg(){return this.baseUrl+"/tracking-page/modern/img/poweredBy.png"},poweredByMobileImg(){return this.baseUrl+"/tracking-page/modern/img/poweredBy_mobile.png"}},methods:{toggleAdditionalText(){window.hasOwnProperty("showAdditionalText")&&(window.showAdditionalText=!window.showAdditionalText,this.$forceUpdate())}},mounted(){var e=document.getElementById("textAbove");this.isPhone&&e&&64<e.clientHeight&&(this.showPhoneMore=!0)}},trackHeader=(window.trackModernForm=trackForm,{props:["config"],template:`
        <div :class="['track123_header_wrapper', {'without_logo': !config.store_logo_url}]">
            <div v-if="config.store_logo_url" class="logo_box">
                <a href="/"><img class="logo_img" :src="config.store_logo_url" /></a>
            </div>
            <a v-else-if="config.store_name" class="store-name" href="/">{{ config.store_name }}</a>
        </div>
	`,computed:{text_above(){return this.config.additional_text.text_above}},methods:{toggleAdditionalText(){window.hasOwnProperty("showAdditionalText")&&(window.showAdditionalText=!window.showAdditionalText,this.$forceUpdate())}}}),track123=(window.trackModernHeader=trackHeader,{props:["config","trackDomain","trackBaseUrl","trackNodeEnv"],template:`
        <div class="track123_track_wrapper">
            <track-header 
                v-show="showHeader"
                :showTrackFrom="showTrackFrom"
                :config="config">
            </track-header>
            
            <iframe 
                id="googleIframe" 
                :src="mapUrl" 
                class="track123_map_iframe"
                frameBorder="0">
            </iframe>

            <track-form
                v-show="showTrackFrom"
                :config="config"
                :isGoSearch="isGoSearch"
                @getOrderDetail="getOrderDetail"
                @getProductRecommendations="getProductRecommendations" />
           
            <track-select-package 
                v-if="showTrackSelectPackage"
                :config="config"
                :orderDetail="orderDetail"
                @goSearch="goSearch"
                @goOrderDetail="goOrderDetail" />
            
            <track-order-detail
                v-if="showTrackOrderDetail"
                :config="config"
                :currentIndex="currentIndex"
                :orderDetail="orderDetail"
                :productRecommendations="productRecommendationList"
                @closeOrderDetail="closeOrderDetail"
                @toggleHeader="toggleHeader" />
           
            <track-product-recommendation
                v-show="!showTrackFrom"
                :orderDetail="orderDetail"
                :config="config"
                :productRecommendations="productRecommendationList" />
   
        </div>
	`,data(){return{showHeader:!0,showDetail:!1,showSearch:!0,showSelectPackage:!0,isGoSearch:!1,currentIndex:null,defaultMapInfo:null,orderDetail:null,productRecommendationList:null}},computed:{showTrackFrom(){return!this.orderDetail&&this.showSearch||this.isGoSearch},showTrackSelectPackage(){return this.orderDetail&&this.orderDetail.order_packages&&this.orderDetail.order_packages.length&&1<this.orderDetail.order_packages.length&&this.showSelectPackage},showTrackOrderDetail(){return(this.currentIndex||0==this.currentIndex)&&this.showDetail},mapLocation(){var e,t;return this.orderDetail&&(this.currentIndex||0==this.currentIndex)?(e=(t=this.orderDetail.order_packages[this.currentIndex])&&t.tracking_details&&t.tracking_details.length?t.tracking_details[0].event_location:"",t=this.orderDetail.combined_address||t.ship_to||"","configure_options.map_coordinates.current_package_location"===this.config.configure_options.map_coordinates?e:t):null},mapUrl(){return this.orderDetail&&this.orderDetail.latitude&&this.orderDetail.longitude?`https://www.google.com/maps/embed/v1/view?key=AIzaSyDf5VCcikU0XbIhQtJ2mOpz6JHHND2Yggk&zoom=16&center=${this.orderDetail.latitude},`+this.orderDetail.longitude:this.mapLocation?"https://www.google.com/maps/embed/v1/place?key=AIzaSyDf5VCcikU0XbIhQtJ2mOpz6JHHND2Yggk&q="+this.mapLocation:"https://www.google.com/maps/embed/v1/view?key=AIzaSyDf5VCcikU0XbIhQtJ2mOpz6JHHND2Yggk&zoom=2&center=37.4218,-122.0840"}},created(){window.TRACK_DOMAIN=this.trackDomain||"",window.TRACK_BASE_URL=this.trackBaseUrl||"",window.TRACK_NODE_ENV=this.trackNodeEnv||"",window&&!window.hasOwnProperty("showAdditionalText")&&(window.showAdditionalText=!0)},methods:{getOrderDetail(e){this.orderDetail=e,this.orderDetail&&this.orderDetail.order_packages&&this.orderDetail.order_packages.length&&(this.showSearch=!1,this.isGoSearch=!1,1==this.orderDetail.order_packages.length&&(this.showDetail=!0,this.currentIndex=0),1<this.orderDetail.order_packages.length)&&(this.showSelectPackage=!0)},getProductRecommendations(e){this.productRecommendationList=e},goSearch(){this.showSearch=!0,this.isGoSearch=!0,this.showSelectPackage=!1,this.orderDetail=null},goOrderDetail(e){this.showSelectPackage=!1,this.showDetail=!0,this.currentIndex=e},closeOrderDetail(){this.showDetail=!1,1<this.orderDetail.order_packages.length?this.showSelectPackage=!0:this.goSearch()},toggleHeader(e){this.showHeader=e}}}),trackOrderDetail=(window.trackModernMain=track123,{props:{currentIndex:{type:Number,default:0}},mixins:[window.trackOrderDetailMixin],template:`
        <div>
            <div :class="['track123-mask', {'track123-top-mask': scrollToTop}]"></div>
            <div id="orderWrapper" 
                class="track123_order_wrapper">
                <div class="track123_draggable_flag"></div>
                <div id="orderHeader" :class="['track123_order_header_container', {'track123_order_header_ios_bottom_container': isBottom}]">
                    <div class="track123_order_header_item">
                        <div class="track123_order_header_content">
                            <div v-if="!currentPackage.last_mile_info" class="track123_order_carrier_logo">
                                <a v-if="config.configure_options.link_to_carrier_for_modern" target="_blank" :href="currentCourierLink">
                                    <img v-if="currentPackage.courier && currentPackage.courier.courier_logo && configure_options.carrier_details" 
                                        class="carrier_logo"
                                        :src="currentPackage.courier.courier_logo" 
                                        :alt="currentPackage.courier.courier_code" />
                                    <img v-else class="default_icon" :src="transitionImg" />
                                </a>
                                <div v-else>
                                    <img v-if="currentPackage.courier && currentPackage.courier.courier_logo && configure_options.carrier_details" 
                                        class="carrier_logo"
                                        :src="currentPackage.courier.courier_logo" 
                                        :alt="currentPackage.courier.courier_code" />
                                    <img v-else class="default_icon" :src="transitionImg" />
                                </div>
                            </div>
                            <div class="track123_order_header_info" v-if="!currentPackage.last_mile_info">
                                <div v-if="config.configure_options.link_to_carrier_for_modern">
                                    <a v-if="currentPackage.tracking_number" class="track123_order_header_title" target="_blank" :href="currentCourierLink">{{ currentPackage.tracking_number }}</a>
                                    <div v-else class="track123_order_header_title">{{ orderDetail.order_name }}</div>
                                </div>
                                <div v-else class="track123_order_header_title">{{ currentPackage.tracking_number || orderDetail.order_name }}</div>
                                
                                <div v-if="currentPackage.tracking_number && !currentPackage.last_mile_info" class="track123_order_header_sub_title">{{ orderDetail.order_name }}</div>
                                <div v-if="orderDetail.status != 'cancelled' && currentPackage.transit_display_status === 'order_ready'" class="track123_order_header_sub_title">{{ translation.shipping_details.ready_text }}</div>
                                <div v-if="orderDetail.status != 'cancelled' && currentPackage.transit_display_status === 'ordered'" class="track123_order_header_sub_title">{{ translation.shipping_details.unready_text }}</div>
                                <div v-if="orderDetail.status == 'cancelled'" class="track123_order_header_sub_title">{{ translation.shipping_details.canceled_text }}</div>
                            </div>
                            <div class="track123_order_header_info" v-else>
                                <div class="track123_order_header_title">{{ orderDetail.order_name }}</div>
                            </div>
                        </div>
                        <div class="track123_order_carrier_close_icon"
                            @click="closeOrderDetail">
                            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9.83068 0.595578C10.2711 0.268796 10.8961 0.305105 11.2955 0.704505C11.6949 1.1039 11.7312 1.7289 11.4044 2.16932L11.2955 2.2955L7.5915 6L11.2955 9.7045C11.7348 10.1438 11.7348 10.8562 11.2955 11.2955C10.8961 11.6949 10.2711 11.7312 9.83068 11.4044L9.7045 11.2955L6 7.5915L2.2955 11.2955L2.16932 11.4044C1.7289 11.7312 1.1039 11.6949 0.704505 11.2955C0.305105 10.8961 0.268796 10.2711 0.595578 9.83068L0.704505 9.7045L4.4085 6L0.704505 2.2955C0.265165 1.85616 0.265165 1.14384 0.704505 0.704505C1.1039 0.305105 1.7289 0.268796 2.16932 0.595578L2.2955 0.704505L6 4.4085L9.7045 0.704505L9.83068 0.595578Z" fill="#0B1019" fill-opacity="0.25"/>
                            </svg>
                        </div>
                    </div>
                    <div class="track123_order_header_info" v-if="currentPackage.last_mile_info">
                        <div v-if="orderDetail.status != 'cancelled' && currentPackage.transit_display_status === 'order_ready'" class="track123_order_header_sub_title">{{ translation.shipping_details.ready_text }}</div>
                        <div v-if="orderDetail.status != 'cancelled' && currentPackage.transit_display_status === 'ordered'" class="track123_order_header_sub_title">{{ translation.shipping_details.unready_text }}</div>
                        <div v-if="orderDetail.status == 'cancelled'" class="track123_order_header_sub_title">{{ translation.shipping_details.canceled_text }}</div>
                    </div>
                    <div v-if="currentPackage.last_mile_info" class="track123_order_header_item">
                        <div v-if="config.configure_options.carrier_details" class="track123_order_header_content track123_order_header_center_content">
                            <div class="track123_order_carrier_logo">
                                <a v-if="config.configure_options.link_to_carrier_for_modern" target="_blank" :href="currentCourierLink">
                                    <img v-if="currentPackage.courier && currentPackage.courier.courier_logo" 
                                        class="carrier_logo"
                                        :src="currentPackage.courier.courier_logo" 
                                        :alt="currentPackage.courier.courier_code" />
                                    <img v-else class="default_icon" :src="transitionImg" />
                                </a>
                                <div v-else>
                                    <img v-if="currentPackage.courier && currentPackage.courier.courier_logo" 
                                        class="carrier_logo"
                                        :src="currentPackage.courier.courier_logo" 
                                        :alt="currentPackage.courier.courier_code" />
                                    <img v-else class="default_icon" :src="transitionImg" />
                                </div>
                            </div>
                            <div class="courier_name">
                                {{ currentPackage.courier.courier_name_e_n }}
                            </div>
                        </div>

                        <a v-if="config.configure_options.link_to_carrier_for_modern && currentPackage.tracking_number" class="track_no" target="_blank" :href="currentCourierLink">
                            {{ currentPackage.tracking_number }}
                        </a>
                        <div v-else class="track_no">{{ currentPackage.tracking_number }}</div>
                    </div>
                    <div v-if="currentPackage.last_mile_info" class="track123_order_header_item">
                        <div v-if="config.configure_options.carrier_details" class="track123_order_header_content track123_order_header_center_content">
                            <div class="track123_order_carrier_logo">
                                <a v-if="config.configure_options.link_to_carrier_for_modern" target="_blank" :href="currentLastCourierLink">
                                    <img v-if="currentPackage.last_mile_info.courier_logo"  
                                        class="carrier_logo"
                                        :src="currentPackage.last_mile_info.courier_logo" 
                                        :alt="currentPackage.last_mile_info.lm_track_no_provider_name" />
                                    <img v-else class="default_icon" :src="transitionImg" />
                                </a>
                                <div v-else>
                                    <img v-if="currentPackage.last_mile_info.courier_logo" 
                                        class="carrier_logo"
                                        :src="currentPackage.last_mile_info.courier_logo" 
                                        :alt="currentPackage.last_mile_info.lm_track_no_provider_name" />
                                    <img v-else class="default_icon" :src="transitionImg" />
                                </div>
                            </div>
                            <div class="courier_name">
                                {{ currentPackage.last_mile_info.lm_track_no_provider_name }}
                            </div>
                        </div>
                        <a v-if="config.configure_options.link_to_carrier_for_modern" class="track_no" target="_blank" :href="currentLastCourierLink">
                            {{ currentPackage.last_mile_info.lm_track_no }}
                        </a>
                        <div v-else class="track_no">{{ currentPackage.last_mile_info.lm_track_no }}</div>
                    </div>
                </div>
                
                <div v-if="currentPackage.order_items && configure_options.package_contents_details" 
                    class="track123_order_package_container" 
                    @click="openPackageDetail">
                    <div class="track123_order_package_img_content">
                        <div class="track123_order_package_img_box" v-for="(item, index) in currentPackage.order_items" :key="item.id" v-if="index < 3">
                            <img 
                                v-if="item.product_image"
                                :src="item.product_image" 
                                :alt="item.title" />
                            <div v-else class="product_img_unload_title">{{ item.title }}</div>
                        </div>

                    </div>
                    <div class="track123_order_package_num_content">
                        <div class="mr-8">x {{ currentPackage.order_items.length }} {{ translation.package_info.items }}</div>
                        <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.954505 11.2955C0.515165 10.8562 0.515165 10.1438 0.954505 9.7045L4.65901 6L0.954505 2.2955C0.515165 1.85616 0.515165 1.14384 0.954505 0.704505C1.39384 0.265165 2.10616 0.265165 2.5455 0.704505L7.0455 5.2045C7.48484 5.64384 7.48484 6.35616 7.0455 6.7955L2.5455 11.2955C2.10616 11.7348 1.39384 11.7348 0.954505 11.2955Z" fill="#0B1019" fill-opacity="0.25"/>
                        </svg>
                    </div>
                </div>

                <div id="orderDetail" class="track123_order_tracking_details_container">
                    <div class="track123_order_tracking_details_status_content">
                        <div class="status_icon_box" :style="{ borderColor: statusColor }">
                            <div class="status_icon" :style="{ background: statusColor }">
                                <svg v-if="orderDetail.status != 'cancelled' && currentPackage.transit_display_status == 'ordered'" t="1663050600897" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3606" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><path d="M102.4 102.4a51.2 51.2 0 0 1 51.2-51.2h716.8a51.2 51.2 0 0 1 51.2 51.2v460.8a51.2 51.2 0 1 1-102.4 0V153.6H204.8v665.6h256a51.2 51.2 0 1 1 0 102.4H153.6a51.2 51.2 0 0 1-51.2-51.2V102.4z m204.8 204.8a51.2 51.2 0 0 1 51.2-51.2h307.2a51.2 51.2 0 1 1 0 102.4H358.4a51.2 51.2 0 0 1-51.2-51.2z m0 179.2a51.2 51.2 0 0 1 51.2-51.2h307.2a51.2 51.2 0 1 1 0 102.4H358.4a51.2 51.2 0 0 1-51.2-51.2zM307.2 665.6a51.2 51.2 0 0 1 51.2-51.2h153.6a51.2 51.2 0 1 1 0 102.4H358.4a51.2 51.2 0 0 1-51.2-51.2z m650.5984 87.3984l-204.8 204.8a51.2 51.2 0 0 1-72.3968 0l-102.4-102.4a51.2 51.2 0 0 1 72.3968-72.3968L716.8 849.2032l168.6016-168.6016a51.2 51.2 0 0 1 72.3968 72.3968z" p-id="3607" fill="#ffffff"></path></svg>
                                <svg v-else-if="orderDetail.status != 'cancelled' && currentPackage.transit_display_status == 'order_ready'" t="1663050591606" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3410" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><path d="M486.912 32.1536a51.2 51.2 0 0 1 50.176 0l409.6 230.4A51.2 51.2 0 0 1 972.8 307.2v409.6a51.2 51.2 0 0 1-26.112 44.6464l-409.6 230.4a51.2 51.2 0 0 1-50.176 0l-409.6-230.4A51.2 51.2 0 0 1 51.2 716.8V307.2a51.2 51.2 0 0 1 26.112-44.6464l409.6-230.4zM153.6 399.5648v287.2832l307.2 172.8v-268.0832l-102.4-64V563.2a51.2 51.2 0 1 1-102.4 0V463.5648l-102.4-64z m251.648 36.5056L512 502.8352l309.248-193.3312-105.8304-59.5456-310.1696 186.112zM563.2 591.5648v268.0832l307.2-172.8v-287.232l-307.2 192z m49.5104-399.36L512 135.5264 202.752 309.504l104.96 65.6384 304.9984-182.9376z" p-id="3411" fill="#ffffff"></path></svg>
                                <svg v-else-if="orderDetail.status != 'cancelled' && currentPackage.transit_display_status == 'in_transit'" t="1663050265527" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3018" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><path d="M0 204.8a51.2 51.2 0 0 1 51.2-51.2h665.6a51.2 51.2 0 0 1 51.2 51.2v128h76.8a51.2 51.2 0 0 1 41.6768 21.4528l128 179.2A51.2 51.2 0 0 1 1024 563.2v204.8a51.2 51.2 0 0 1-51.2 51.2h-85.504a153.6512 153.6512 0 0 1-289.792 0H400.896a153.6512 153.6512 0 0 1-289.792 0H51.2a51.2 51.2 0 0 1-51.2-51.2V204.8z m111.104 512a153.6512 153.6512 0 0 1 289.792 0h196.608A154.112 154.112 0 0 1 665.6 634.9312V256H102.4v460.8h8.704zM768 616.4992A153.8048 153.8048 0 0 1 887.296 716.8H921.6v-137.216L818.432 435.2H768v181.2992zM256 716.8a51.2 51.2 0 1 0 0 102.4 51.2 51.2 0 0 0 0-102.4z m486.4 0a51.2 51.2 0 1 0 0 102.4 51.2 51.2 0 0 0 0-102.4z" p-id="3019" fill="#ffffff"></path></svg>
                                <svg v-else-if="orderDetail.status != 'cancelled' && currentPackage.transit_display_status == 'out_for_delivery'" t="1663050625113" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3998" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><path d="M332.8 51.2a51.2 51.2 0 0 1 51.2-51.2h256a51.2 51.2 0 1 1 0 102.4H563.2v54.1696A435.2512 435.2512 0 0 1 512 1024 435.2 435.2 0 0 1 460.8 156.5696V102.4H384a51.2 51.2 0 0 1-51.2-51.2zM512 256a332.8 332.8 0 1 0 0 665.6 332.8 332.8 0 0 0 0-665.6z m0 102.4a51.2 51.2 0 0 1 51.2 51.2v154.624l108.8 87.04a51.2 51.2 0 1 1-64 79.872l-128-102.4A51.2 51.2 0 0 1 460.8 588.8V409.6a51.2 51.2 0 0 1 51.2-51.2z" p-id="3999" fill="#ffffff"></path></svg>
                                <svg v-else-if="orderDetail.status != 'cancelled' && currentPackage.transit_display_status == 'delivered'" t="1663050427310" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3214" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><path d="M477.2864 38.5536a61.44 61.44 0 0 1 69.4272 0l97.4336 66.7136 118.0672 3.2768a61.44 61.44 0 0 1 56.1664 40.8064l39.5776 111.2576 93.5936 72.0384a61.44 61.44 0 0 1 21.504 66.048L939.6224 512l33.3312 113.3056a61.44 61.44 0 0 1-21.4528 66.048l-93.5936 71.9872-39.5776 111.3088a61.44 61.44 0 0 1-56.1664 40.8064l-118.0672 3.2768-97.4336 66.7136a61.44 61.44 0 0 1-69.4272 0l-97.4336-66.7136-118.0672-3.2768a61.44 61.44 0 0 1-56.1664-40.8064l-39.5776-111.2576-93.5936-72.0384a61.44 61.44 0 0 1-21.504-66.048L84.3776 512 50.9952 398.6944a61.44 61.44 0 0 1 21.4528-66.048L166.0416 260.608l39.5776-111.2576a61.44 61.44 0 0 1 56.1664-40.8064l118.0672-3.2768L477.2864 38.5536zM512 138.9056L427.776 196.5056a61.44 61.44 0 0 1-33.024 10.752l-102.0928 2.816-34.2016 96.2048a61.44 61.44 0 0 1-20.4288 28.1088L157.184 396.6976l28.8768 97.9456a61.44 61.44 0 0 1 0 34.7136l-28.8768 97.9456 80.896 62.2592a61.44 61.44 0 0 1 20.4288 28.16l34.2016 96.1536 102.0928 2.816c11.776 0.3072 23.296 4.096 33.024 10.752L512 885.1456l84.224-57.7024c9.728-6.656 21.248-10.4448 33.024-10.752l102.0928-2.816 34.2016-96.2048a61.44 61.44 0 0 1 20.4288-28.1088l80.896-62.2592-28.8768-97.9456a61.44 61.44 0 0 1 0-34.7136l28.8768-97.9456-80.896-62.2592a61.44 61.44 0 0 1-20.4288-28.16l-34.2016-96.1536-102.0928-2.816a61.44 61.44 0 0 1-33.024-10.752L512 138.8544z m189.7984 234.496a51.2 51.2 0 0 1 0 72.3968L504.32 643.3792a61.44 61.44 0 0 1-86.9376 0l-95.1296-95.1808a51.2 51.2 0 0 1 72.3968-72.3968L460.8 542.0032l168.6016-168.6016a51.2 51.2 0 0 1 72.3968 0z" p-id="3215" fill="#ffffff"></path></svg>
                                <svg v-else-if="orderDetail.status == 'cancelled'" t="1663050265527" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3018" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><path d="M0 204.8a51.2 51.2 0 0 1 51.2-51.2h665.6a51.2 51.2 0 0 1 51.2 51.2v128h76.8a51.2 51.2 0 0 1 41.6768 21.4528l128 179.2A51.2 51.2 0 0 1 1024 563.2v204.8a51.2 51.2 0 0 1-51.2 51.2h-85.504a153.6512 153.6512 0 0 1-289.792 0H400.896a153.6512 153.6512 0 0 1-289.792 0H51.2a51.2 51.2 0 0 1-51.2-51.2V204.8z m111.104 512a153.6512 153.6512 0 0 1 289.792 0h196.608A154.112 154.112 0 0 1 665.6 634.9312V256H102.4v460.8h8.704zM768 616.4992A153.8048 153.8048 0 0 1 887.296 716.8H921.6v-137.216L818.432 435.2H768v181.2992zM256 716.8a51.2 51.2 0 1 0 0 102.4 51.2 51.2 0 0 0 0-102.4z m486.4 0a51.2 51.2 0 1 0 0 102.4 51.2 51.2 0 0 0 0-102.4z" p-id="3019" fill="#ffffff"></path></svg>
                                <svg v-else t="1663050265527" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3018" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><path d="M0 204.8a51.2 51.2 0 0 1 51.2-51.2h665.6a51.2 51.2 0 0 1 51.2 51.2v128h76.8a51.2 51.2 0 0 1 41.6768 21.4528l128 179.2A51.2 51.2 0 0 1 1024 563.2v204.8a51.2 51.2 0 0 1-51.2 51.2h-85.504a153.6512 153.6512 0 0 1-289.792 0H400.896a153.6512 153.6512 0 0 1-289.792 0H51.2a51.2 51.2 0 0 1-51.2-51.2V204.8z m111.104 512a153.6512 153.6512 0 0 1 289.792 0h196.608A154.112 154.112 0 0 1 665.6 634.9312V256H102.4v460.8h8.704zM768 616.4992A153.8048 153.8048 0 0 1 887.296 716.8H921.6v-137.216L818.432 435.2H768v181.2992zM256 716.8a51.2 51.2 0 1 0 0 102.4 51.2 51.2 0 0 0 0-102.4z m486.4 0a51.2 51.2 0 1 0 0 102.4 51.2 51.2 0 0 0 0-102.4z" p-id="3019" fill="#ffffff"></path></svg>
                            </div>
                        </div>
                        <div class="title">{{ statusMsg }}</div>
                    </div>
                    <div class="track123_order_tracking_details_content">
                        <div v-if="expectedDeliveryTime" class="track123_order_arrive_time">
                            <div class="time_icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M19 12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM13 7C13 6.44772 12.5523 6 12 6C11.4477 6 11 6.44772 11 7V13C11 13.5523 11.4477 14 12 14H15C15.5523 14 16 13.5523 16 13C16 12.4477 15.5523 12 15 12H13V7Z" fill="#0B1019" fill-opacity="0.45"/>
                                </svg>
                            </div>
                            <div class="time_info">
                                <div class="title">{{ translation.shipping_status.expected_to_arrive_on }}</div>
                                <div class="arrive_time">{{ expectedDeliveryTime }}</div>
                            </div>
                        </div>
                        <div class="track123_order_desc_wrapper" v-for="(groupItem, groupIndex) in trackingDetails[currentPackageIndex]">
                            <div class="track123_order_desc_left_content">
                                <div v-if="groupItem.time" :class="['track123_track_date_icon_box', {'track123_track_date_first_icon_box': groupIndex == 0 }]">
                                    <div>{{ groupItem.time.split(' ')[0] }}</div>
                                    <div>{{ groupItem.time.split(' ')[1] }}</div>
                                </div>
                                <div :class="['track123_date_line', {'track123_date_last_line': groupIndex == trackingDetails[currentPackageIndex].length-1}]"></div>
                            </div>
                            <div class="track123_order_desc_container" v-for="(item, index) in groupItem.child" :key="item.event_detail">
                                <div class="track123_order_desc_right_content">
                                    <div class="track123_event_time">{{ item.event_time }}</div>
                                    <div :class="['track123_event_detail', {'track123_event_first_detail': groupIndex == 0 && index == 0}]">
                                        {{ item.event_location ? item.event_location + ',' : '' }} {{ item.event_detail }}
                                    </div>
                                    <div v-if="item.courier_name && configure_options.carrier_details" class="track123_track_desc_courier">{{ item.courier_name }}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="isPhone" class="track123_order_package_detail_container">
                        <div class="track123_order_package_detail_header_content">
                            <div class="title">{{ translation.package_info.package_content }}</div>
                        </div>
                        <div v-if="currentPackage.order_items" class="track123_order_package_detail_box">
                            <div class="track123_order_package_detail_content" v-for="(item, index) in currentPackage.order_items" :key="item.id"">
                                <div class="track123_product_image_box">
                                    <img 
                                        v-if="item.product_image"
                                        :src="item.product_image" 
                                        :alt="item.title" />
                                    <div v-else class="product_img_unload_title">{{ item.title }}</div>
                                </div>
                                <div class="detail_info_content">
                                    <div class="title">x{{ item.quantity }} {{ item.title }}</div>
                                    <div class="btn_box">
                                        <button v-if="item.product_url || orderDetail.preview" class="btn_item track123_order_info_btn_reorder" @click="goProductDetail(item, 'reorder', index)">
                                            <svg v-if="(addCartLoadingIndex || addCartLoadingIndex == 0) && addCartLoadingIndex == index" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1" stroke-opacity="0.95" stroke-width="1.5" stroke-linecap="round"/>
                                            </svg>
                                            {{ translation.package_info.reorder }}
                                        </button>
                                        <button v-if="currentPackage.display_review" class="btn_item track123_order_info_btn_review" @click="goProductDetail(item, 'review', index)">{{ translation.package_info.review }}</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="productRecommendations && productRecommendations.length && configure_options.product_recommendations" class="track123_product_recommendations_container">
                        <div class="title">{{ translation.product_recommendation.may_like }}</div>
                        <div class="track123_product_recommendations_box">
                            <div v-for="(item, index) in productRecommendations" :key="index">
                                <a :class="['track123_product_recommendations_item', {'ml-12': index == 3}]" v-show="index < 4"
                                    :href="item.url" rel="noreferrer" target="_blank" :data-price="item.price">
                                    <div class="img_box">
                                        <img
                                            v-if="item.imageUrl"
                                            :src="item.imageUrl" 
                                            :alt="item.title" 
                                            loading="lazy" /> 
                                    </div>
                                    <div class="title">{{ item.title }}</div>
                                    <div class="track123_product_price_container">
                                        <s v-if="item.compare_at_price" v-html="item.compare_at_price" class="track123_product_compare_price">{{ item.compare_at_price }}</s>
                                        <div class="price" v-html="item.price">{{ item.price }}</div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-show="showPackageDetail && !isPhone" class="track123_order_package_detail_container">
                <div class="track123_order_package_detail_header_content">
                    <div class="title">{{ translation.package_info.package_content }}</div>
                    <svg @click="closePackageDetail" width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9.83068 0.595578C10.2711 0.268796 10.8961 0.305105 11.2955 0.704505C11.6949 1.1039 11.7312 1.7289 11.4044 2.16932L11.2955 2.2955L7.5915 6L11.2955 9.7045C11.7348 10.1438 11.7348 10.8562 11.2955 11.2955C10.8961 11.6949 10.2711 11.7312 9.83068 11.4044L9.7045 11.2955L6 7.5915L2.2955 11.2955L2.16932 11.4044C1.7289 11.7312 1.1039 11.6949 0.704505 11.2955C0.305105 10.8961 0.268796 10.2711 0.595578 9.83068L0.704505 9.7045L4.4085 6L0.704505 2.2955C0.265165 1.85616 0.265165 1.14384 0.704505 0.704505C1.1039 0.305105 1.7289 0.268796 2.16932 0.595578L2.2955 0.704505L6 4.4085L9.7045 0.704505L9.83068 0.595578Z" fill="#0B1019" fill-opacity="0.25"/>
                    </svg>
                </div>
                <div v-if="currentPackage.order_items" class="track123_order_package_detail_box">
                    <div class="track123_order_package_detail_content" v-for="(item, index) in currentPackage.order_items" :key="item.id"">
                        <div class="track123_product_image_box">
                            <img 
                                v-if="item.product_image"
                                :src="item.product_image" 
                                :alt="item.title" />
                            <div v-else class="product_img_unload_title">{{ item.title }}</div>
                        </div>
                        <div class="detail_info_content">
                            <div class="title">x{{ item.quantity }} {{ item.title }}</div>
                            <div class="btn_box">
                                <button v-if="item.product_url || orderDetail.preview" class="btn_item track123_order_info_btn_reorder" @click="goProductDetail(item, 'reorder', index)">
                                    <svg v-if="(addCartLoadingIndex || addCartLoadingIndex == 0) && addCartLoadingIndex == index" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1" stroke-opacity="0.95" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                    {{ translation.package_info.reorder }}
                                </button>
                                <button v-if="currentPackage.display_review" class="btn_item track123_order_info_btn_review" @click="goProductDetail(item, 'review', index)">{{ translation.package_info.review }}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
	`,data(){return{showPackageDetail:!1,scrollToTop:!1,statusColorMatch:{ordered:"#28A864",order_ready:"#28A864",in_transit:"#065FF5",out_for_delivery:"#065FF5",delivered:"#28A864",exception:"#E70D0D",failed_attempt:"#E70D0D",expired:"#E70D0D",info_received:"#065FF5"},isBottom:!1,orderDetailDom:null}},computed:{isPhone(){return navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},isIOS(){return navigator.userAgent.match(/(iPhone|iPod|ios|iPad)/i)},transitionImg(){return this.baseUrl+"/tracking-page/modern/img/transition.png"},statusColor(){return"cancelled"==this.orderDetail.status?"#020f4066":this.statusColorMatch[this.currentPackage.transit_display_status]||"#28A864"}},created(){this.currentPackageIndex=this.currentIndex},mounted(){this.initHammer(),this.orderDetailDom=document.getElementById("orderDetail")},watch:{currentIndex(e,t){e!==t&&(this.currentPackageIndex=currentIndex)}},methods:{openPackageDetail(){this.showPackageDetail=!0},closePackageDetail(){this.showPackageDetail=!1},closeOrderDetail(){this.$emit("closeOrderDetail")},initHammer(){const i=this,a=document.body.clientHeight,r=a-90,o=document.getElementById("orderWrapper"),n=document.getElementById("orderHeader"),s=document.getElementById("orderDetail"),c=document.getElementById("google_translate_element"),t=new Hammer.Manager(o);var e=new Hammer.Pan({direction:Hammer.DIRECTION_VERTICAL});t.add(e);let d=0,l=!1;t.on("panstart",function(e){i.isPhone&&(l=!0,d=o.offsetTop,t.on("pandown",function(t){if(!(i.scrollToTop&&50<=i.orderDetailDom.scrollTop)){let e=d+t.deltaY;i.isBottom=!1,console.log("pandown",e,d,t.deltaY,s.scrollTop),40==d&&i.orderDetailDom.scrollTop<50&&(i.orderDetailDom.style.overflowY="hidden",console.log("暂停滚动")),(e=e>r?r:e)<=80&&(e=40),t.deltaY<0?(e="calc(50vh - 19px)",o.style.top=e,i.scrollToTop=!1,i.$emit("toggleHeader",!0),c&&(c.style.display="block")):o.style.top=e+"px"}}),t.on("panup",function(t){if(!(i.scrollToTop&&t.deltaY<0)){let e=d+t.deltaY;console.log("panup",e,d,t.deltaY),i.isBottom=!1,e<=80&&(i.orderDetailDom.style.overflowY="auto",i.scrollToTop=!0,i.$emit("toggleHeader",!1),c&&(c.style.display="hidden"),e=40,console.log("panup hide")),o.style.top=e+"px"}}))}),t.on("panend",function(t){if(i.isPhone){let e=d+t.deltaY;l=!1,i.scrollToTop=!1;var t=.6*a,r=.3*a;i.orderDetailDom.scrollTop=0,console.log("panend",e,d,r,t),i.isBottom=!1,e<=r?(e="40px",i.orderDetailDom.style.overflowY="auto",i.scrollToTop=!0,i.$emit("toggleHeader",!1),c&&(c.style.display="none"),console.log("panend hide")):e>r&&e<t?(e="calc(50vh - 19px)",i.$emit("toggleHeader",!0),c&&(c.style.display="block")):e>=t&&(r=n.clientHeight+48,r+=75,i.isBottom=!0,e=`calc(100vh - ${r}px)`,i.$emit("toggleHeader",!0),c)&&(c.style.display="block"),o.style.top=e}})}}}),trackProductRecommendation=(window.trackModernOrderDetail=trackOrderDetail,{props:["config","productRecommendations","orderDetail"],template:`
        <div v-if="config.configure_options.product_recommendations && productRecommendations && productRecommendations.length" class="track123_product_recommendations_wrapper" :style="{bottom: !showDetail ? '-32px' : '0'}">
            <div class="header" @click="toggleDetail">
                <div class="title">{{ translation.product_recommendation.may_like }}</div>
                <svg :class="{'active_svg': showDetail}" width="13" height="8" viewBox="0 0 13 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.2045 0.954505C1.6039 0.555105 2.2289 0.518796 2.66932 0.845578L2.7955 0.954505L6.5 4.6585L10.2045 0.954505C10.6039 0.555105 11.2289 0.518796 11.6693 0.845578L11.7955 0.954505C12.1949 1.3539 12.2312 1.9789 11.9044 2.41932L11.7955 2.5455L7.2955 7.0455C6.8961 7.4449 6.2711 7.4812 5.83068 7.15442L5.7045 7.0455L1.2045 2.5455C0.765165 2.10616 0.765165 1.39384 1.2045 0.954505Z"/>
                </svg>
            </div>
            <div :class="['track123_product_recommendations_content', {'track123_product_recommendations_content_show': showDetail}, {'track123_product_recommendations_content_hide': !showDetail}]">
                <div class="swiper">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide" v-for="(item, index) in productRecommendationList" :key="index">
                            <div class="track123-swiper-slide" @click="goProductLink(item)">
                                <div 
                                    :class="['track123_product_link_container', {'track123_product_link_fill_container': config.configure_options.product_image_format == 'Fill'}]" 
                                    :style="{backgroundImage: 'url('+item.imageUrl+')'}" />
                                <div class="content">
                                    <div class="track123_product_title">{{ item.title }}</div>
                                    <div class="track123_product_price_container">
                                        <s v-if="item.compare_at_price" v-html="item.compare_at_price" class="track123_product_compare_price">{{ item.compare_at_price }}</s>
                                        <div class="track123_product_price" v-html="item.price">{{ item.price }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
	`,data(){return{Swiper:null,showDetail:!0,preview:!1,translation:{}}},watch:{productRecommendations(e){e&&e.length&&!this.Swiper&&this.initSwiper()},orderDetail(e){e&&(this.preview=e.preview,this.initSwiper())}},computed:{productRecommendationList(){var e=this.productRecommendations?[...this.productRecommendations]:[];return e.forEach(e=>{window.isTrack123Page||(e.price=this.getLiquedMoneyFormat(e.price),e.compare_at_price&&(e.compare_at_price=this.getLiquedMoneyFormat(e.compare_at_price)))}),e},baseUrl(){return TRACK_BASE_URL||window.TRACK_BASE_URL}},created(){this.translation=this.getTranslation()},methods:{initSwiper(){setTimeout(()=>{this.Swiper=new Swiper(".swiper",{autoplay:!0,spaceBetween:24,slidesPerView:"auto",scrollbar:{draggable:!0}})},1e3)},getModernMultiLanguage(){if(!this.config.style||"modern"==this.config.style.theme){let e="";var t=window.location.href.split("/");return e=["apps","a","community","tools"].includes(t[3])?e:(e=t[3])&&e.split("-")[0]}},getTranslation(){let r=null;const i=this.getModernMultiLanguage();var e=this.config.translation_configs&&this.config.translation_configs.translation_configs&&this.config.translation_configs.translation_configs.length?this.config.translation_configs.translation_configs[0].translation:{};this.config.translation_configs.func_permission||this.config.translation_configs.plan;return this.config.translation_configs.translation_configs.forEach(e=>{var t=e.code.split("-")[0];if(this.config.style.theme&&"default"==this.config.style.theme)try{e.code==Shopify.locale&&(r=e.translation)}catch(e){console.log("Shopify undefine")}else i&&t==i&&(r=e.translation)}),r||e},toggleDetail(){this.showDetail=!this.showDetail},addCart(t,e){var r=new FormData;r.append("form_type","product"),r.append("id",e),r.append("quantity",1);try{fetch("/cart/add.js",{method:"POST",body:r}).then(e=>e.ok?e.json():e.ok?void 0:(window.open(t+"?utm_source=track123_recommendations"),!1)).then(e=>{e&&window.open(window.location.origin+"/cart")})}catch(e){}},goProductLink(e){if(!this.orderDetail.preview){this.uploadMarketing(e);var t=e.variants[0].id;switch(this.config.configure_options.product_action_type){case"View Item":window.open(e.url+"?utm_source=track123_recommendations");break;case"Add to cart":this.addCart(e.url,t);break;case"Buy now":window.open(`/cart/${t}:1?utm_source=track123_recommendations`);break;default:window.open(e.url+"?utm_source=track123_recommendations")}}},getLiquedMoneyFormat(e){"string"==typeof e&&(e=e.replace(".",""));let t="";var r=/\<\<\s*(\w+)\s*\>\>/,i=this.config.money_format;switch(i.match(r)[1]){case"amount":t=this.formatWithDelimiters(e,2);break;case"amount_no_decimals":t=this.formatWithDelimiters(e,0);break;case"amount_with_comma_separator":t=this.formatWithDelimiters(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":t=this.formatWithDelimiters(e,0,".",",");break;case"amount_with_apostrophe_separator":t=this.formatWithDelimiters(e,2,"'",".");break;case"amount_no_decimals_with_apostrophe_separator":t=this.formatWithDelimiters(e,0,"'",".")}return i.replace(r,t)},formatWithDelimiters(e,t,r,i){return t=t||0==t?t:2,r=r||",",i=i||".",isNaN(e)||null==e?0:(t=(e=(e/100).toFixed(t)).split("."))[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+r)+(t[1]?i+t[1]:"")},uploadMarketing(e){fetch(this.baseUrl+"/endApi/api/upload-marketing",{method:"POST",body:JSON.stringify({click_type:1,store_domain:this.config.shopify_domain||TRACK_DOMAIN||window.TRACK_DOMAIN,page_session_id:window.TRACK_PAGE_SESSION_ID,product_id:e.id,variant_id:e.variants&&e.variants.length&&e.variants[0].variant_ids&&e.variants[0].variant_ids.length?e.variants[0].variant_ids[0]:""}),headers:{Accept:"application/json, */*","Content-Type":"application/json;charset=utf8"}})}}}),trackSelectPackage=(window.trackModernProductRecommendation=trackProductRecommendation,{props:["config","orderDetail"],template:`
        <div class="track123_select_package_wrapper">
           <div class="track123_select_package_title" @click="goSearch">
                <svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.603823 6.31975C0.268215 6.76071 0.301777 7.39281 0.704506 7.79554L6.00781 13.0988L6.12301 13.1995C6.56397 13.5351 7.19607 13.5016 7.5988 13.0988L7.69948 12.9836C8.03508 12.5427 8.00152 11.9106 7.5988 11.5078L4.21599 8.12504L16.5 8.12504L16.6527 8.11477C17.2018 8.04028 17.625 7.56959 17.625 7.00004C17.625 6.37872 17.1213 5.87504 16.5 5.87504L4.21673 5.87504L7.5988 2.49224L7.69948 2.37703C8.03508 1.93608 8.00152 1.30398 7.5988 0.901249C7.15946 0.461908 6.44715 0.461908 6.00781 0.901249L0.704506 6.20455L0.603823 6.31975Z" fill="#0B1019"/>
                </svg>
                <span class="ml-12">{{ translation.order_lookup_section.select_tracking_number }}</span>
            </div>
            <div class="track123_select_package_content">
                <div v-if="orderDetail.order_packages" class="track123_select_package_sub_title">{{ the_number_of_packages }}</div>
                <div v-for="(item, index) in orderDetail.order_packages" :key="item.order_package_id"
                    class="track123_select_package_item_container"
                    @click="goOrderDetail(index)">
                    <div class="track123_select_package_item_content">
                        <div class="courier_logo_img" v-if="item.courier && config.configure_options.carrier_details">
                            <img :src="item.courier.courier_logo" />
                        </div>
                        <div v-else class="default_icon">
                            <img :src="transitionImg" />
                        </div>
                        <div>
                            <div class="tracking_number">{{ item.tracking_number }}</div>
                            <div :style="{color: orderDetail.status == 'cancelled' ? '#020f4066' : statusColorMatch[item.transit_display_status] || '#28A864', fontWeight: '600' }">
                                {{ orderDetail.status == 'cancelled' ? translation.shipping_status.canceled : translation.shipping_status[item.transit_display_status] }}
                            </div>
                        </div>
                    </div>
                    <div>
                        <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.954505 11.2955C0.515165 10.8562 0.515165 10.1438 0.954505 9.7045L4.65901 6L0.954505 2.2955C0.515165 1.85616 0.515165 1.14384 0.954505 0.704505C1.39384 0.265165 2.10616 0.265165 2.5455 0.704505L7.0455 5.2045C7.48484 5.64384 7.48484 6.35616 7.0455 6.7955L2.5455 11.2955C2.10616 11.7348 1.39384 11.7348 0.954505 11.2955Z" fill="#0B1019" fill-opacity="0.25"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
	`,data(){return{translation:null,statusColorMatch:{ordered:"#28A864",order_ready:"#28A864",in_transit:"#065FF5",out_for_delivery:"#065FF5",delivered:"#28A864",exception:"#E70D0D",failed_attempt:"#E70D0D",expired:"#E70D0D",info_received:"#065FF5"}}},computed:{the_number_of_packages(){let e="";return this.translation.order_lookup_section.the_number_of_packages.includes("{{count}}")?e=this.translation.order_lookup_section.the_number_of_packages.replace(/{{count}}/g,this.orderDetail.order_packages.length):this.translation.order_lookup_section.the_number_of_packages.includes("{{ count }}")&&(e=this.translation.order_lookup_section.the_number_of_packages.replace(/{{ count }}/g,this.orderDetail.order_packages.length)),this.translation&&this.translation.the_number_of_packages&&this.orderDetail&&this.orderDetail.order_packages&&this.orderDetail.order_packages.length?e:""},transitionImg(){return(TRACK_BASE_URL||window.TRACK_BASE_URL||"")+"/tracking-page/modern/img/transition.png"}},created(){this.translation=this.getTranslation()},methods:{goSearch(){this.$emit("goSearch")},goOrderDetail(e){this.$emit("goOrderDetail",e)},getModernMultiLanguage(){if(!this.config.style||"modern"==this.config.style.theme){let e="";var t=window.location.href.split("/");return e=["apps","a","community","tools"].includes(t[3])?e:(e=t[3])&&e.split("-")[0]}},getTranslation(){let r=null;const i=this.getModernMultiLanguage();var e=this.config.translation_configs&&this.config.translation_configs.translation_configs&&this.config.translation_configs.translation_configs.length?this.config.translation_configs.translation_configs[0].translation:{};return this.config.translation_configs.translation_configs.forEach(e=>{var t=e.code.split("-")[0];if(this.config.style&&"default"==this.config.style.theme)try{e.code==Shopify.locale&&(r=e.translation)}catch(e){console.log("Shopify undefine")}else i&&t==i&&(r=e.translation)}),r||e}}});window.trackModernSelectPackage=trackSelectPackage;